{% load crispy_forms_tags %}

<form hx-post="{% url 'alterar_senha_submit' %}" 
      hx-target="#modalAlterarSenhaBody" 
      hx-swap="innerHTML">
    {% csrf_token %}
    
    {{ form.old_password|as_crispy_field }}
    {{ form.new_password1|as_crispy_field }}
    {{ form.new_password2|as_crispy_field }}
    
    {% if form.non_field_errors %}
        <div class="alert alert-danger">
            {% for error in form.non_field_errors %}
                {{ error }}
            {% endfor %}
        </div>
    {% endif %}
    
    <div class="modal-footer px-0">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-key me-1"></i> Alterar Senha
        </button>
    </div>
</form>