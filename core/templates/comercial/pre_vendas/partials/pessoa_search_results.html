{% if results %}
<div class="list-group position-absolute w-100 shadow mt-1" style="z-index: 1050;">
    {% for pessoa in results %}
    <a href="#" 
       class="list-group-item list-group-item-action"
       hx-post="{% url 'comercial:selecionar_pessoa_passageiro' %}"
       hx-vals='{"pessoa_id": "{{ pessoa.id }}", "pessoa_nome": "{{ pessoa.nome }}"}'
       hx-target="#pessoa-search-results"
       hx-swap="outerHTML">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <strong>{{ pessoa.nome }}</strong>
                {% if pessoa.cpf %}
                    <small class="text-muted ms-2">CPF: {{ pessoa.cpf }}</small>
                {% elif pessoa.passaporte %}
                    <small class="text-muted ms-2">Passaporte: {{ pessoa.passaporte }}</small>
                {% endif %}
            </div>
            {% if pessoa.email %}
            <small class="text-muted">{{ pessoa.email }}</small>
            {% endif %}
        </div>
    </a>
    {% endfor %}
</div>
{% elif query and query|length >= 2 %}
<div class="list-group position-absolute w-100 shadow mt-1" style="z-index: 1050;">
    <div class="list-group-item text-muted">
        <i class="fas fa-search me-2"></i>
        Nenhuma pessoa encontrada com "{{ query }}"
    </div>
</div>
{% endif %}