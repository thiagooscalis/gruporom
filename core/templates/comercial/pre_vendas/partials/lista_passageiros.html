{% if venda.passageiros.exists %}
<div class="mb-4">
    <h6 class="text-muted mb-3">
        Passageiros Atuais ({{ venda.numero_passageiros }})
        <span class="badge bg-primary ms-2">{{ venda.numero_passageiros }}/{{ venda.bloqueio.caravana.quantidade }}</span>
    </h6>
    <div class="table-responsive">
        <table class="table table-sm">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Documento</th>
                    <th>Tipo</th>
                    <th width="50">AÃ§Ãµes</th>
                </tr>
            </thead>
            <tbody>
                {% for passageiro in venda.passageiros.all %}
                <tr>
                    <td>{{ passageiro.pessoa.nome }}</td>
                    <td>{{ passageiro.pessoa.doc|default:passageiro.pessoa.passaporte_numero|default:"-" }}</td>
                    <td>
                        <span class="badge bg-{{ passageiro.tipo|default:'secondary' }}">
                            {{ passageiro.get_tipo_display|default:"Normal" }}
                        </span>
                    </td>
                    <td>
                        <div class="btn-group" role="group">
                            <button type="button" 
                                    class="btn btn-sm btn-outline-info" 
                                    title="Carregar Passaporte"
                                    data-bs-toggle="tooltip"
                                    hx-get="{% url 'comercial:upload_passaporte_modal' passageiro.pessoa.id %}"
                                    hx-target="#modal-container"
                                    hx-swap="innerHTML">
                                <i class="fas fa-passport"></i>
                            </button>
                            <button type="button" 
                                    class="btn btn-sm btn-outline-danger"
                                    hx-delete="{% url 'comercial:remover_passageiro' venda.id passageiro.id %}"
                                    hx-target="#passageiros-container"
                                    hx-swap="innerHTML"
                                    hx-confirm="Tem certeza que deseja remover este passageiro?">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% else %}
<div class="alert alert-info mb-4">
    <i class="fas fa-info-circle me-2"></i>
    Nenhum passageiro adicionado ainda.
</div>
{% endif %}